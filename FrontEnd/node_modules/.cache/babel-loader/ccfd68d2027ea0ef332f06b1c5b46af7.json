{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useCallback } from 'react'; // import ErrorModal from '../Design/UIElements/ErrorModal';\n\nexport const useRequest = () => {\n  _s();\n\n  const [isLoading, setisLoading] = useState(false);\n  const [isError, setisError] = useState('');\n  const sendRequest = useCallback(async function (url) {\n    let method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GET';\n    let body = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    let headers = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    setisLoading(true);\n\n    try {\n      const response = await fetch(url, {\n        method,\n        body,\n        headers\n      });\n      const responseData = await response.json();\n\n      if (!response.ok) {\n        console.log(responseData);\n        setisError(responseData);\n        throw new Error(responseData.message);\n      }\n\n      setisLoading(false);\n      return responseData;\n    } catch (err) {\n      setisError(err.message);\n      setisLoading(false);\n      throw err;\n    }\n  }, []);\n\n  const clearError = () => {\n    setisError(null);\n  };\n\n  return {\n    isLoading,\n    isError,\n    sendRequest,\n    clearError\n  };\n};\n\n_s(useRequest, \"GsPX1k9NXNENCxF/sK2LZ0ICJj8=\");","map":{"version":3,"names":["useState","useCallback","useRequest","isLoading","setisLoading","isError","setisError","sendRequest","url","method","body","headers","response","fetch","responseData","json","ok","console","log","Error","message","err","clearError"],"sources":["/Users/meetjain/Desktop/SIH-Project/FrontEnd/src/hooks/request-hook.js"],"sourcesContent":["import { useState, useCallback } from 'react';\n// import ErrorModal from '../Design/UIElements/ErrorModal';\nexport const useRequest = ()=>\n{\n    const [isLoading,setisLoading] = useState(false);\n    const [isError,setisError] = useState('')\n\n    const sendRequest = useCallback(\n        async (url,method='GET',body = null,headers={})=>\n    {\n        setisLoading(true)\n        try{\n        const response  = await fetch(url,{method,body,headers})\n        const responseData = await response.json();\n          if(!response.ok)\n          {\n            console.log(responseData)\n            setisError(responseData)\n              throw new Error(responseData.message)\n          }\n          \n          setisLoading(false)\n          return responseData\n        }\n    \n    catch(err){\n        setisError(err.message)\n        setisLoading(false)\n        throw err;\n    }\n    },[])\n\n    const clearError = ()=>\n    {\n        setisError(null)\n    }\n\n    \n    return {isLoading,isError,sendRequest,clearError}\n}"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,WAAnB,QAAsC,OAAtC,C,CACA;;AACA,OAAO,MAAMC,UAAU,GAAG,MAC1B;EAAA;;EACI,MAAM,CAACC,SAAD,EAAWC,YAAX,IAA2BJ,QAAQ,CAAC,KAAD,CAAzC;EACA,MAAM,CAACK,OAAD,EAASC,UAAT,IAAuBN,QAAQ,CAAC,EAAD,CAArC;EAEA,MAAMO,WAAW,GAAGN,WAAW,CAC3B,gBAAOO,GAAP,EACJ;IAAA,IADeC,MACf,uEADsB,KACtB;IAAA,IAD4BC,IAC5B,uEADmC,IACnC;IAAA,IADwCC,OACxC,uEADgD,EAChD;IACIP,YAAY,CAAC,IAAD,CAAZ;;IACA,IAAG;MACH,MAAMQ,QAAQ,GAAI,MAAMC,KAAK,CAACL,GAAD,EAAK;QAACC,MAAD;QAAQC,IAAR;QAAaC;MAAb,CAAL,CAA7B;MACA,MAAMG,YAAY,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAA3B;;MACE,IAAG,CAACH,QAAQ,CAACI,EAAb,EACA;QACEC,OAAO,CAACC,GAAR,CAAYJ,YAAZ;QACAR,UAAU,CAACQ,YAAD,CAAV;QACE,MAAM,IAAIK,KAAJ,CAAUL,YAAY,CAACM,OAAvB,CAAN;MACH;;MAEDhB,YAAY,CAAC,KAAD,CAAZ;MACA,OAAOU,YAAP;IACD,CAZD,CAcJ,OAAMO,GAAN,EAAU;MACNf,UAAU,CAACe,GAAG,CAACD,OAAL,CAAV;MACAhB,YAAY,CAAC,KAAD,CAAZ;MACA,MAAMiB,GAAN;IACH;EACA,CAvB8B,EAuB7B,EAvB6B,CAA/B;;EAyBA,MAAMC,UAAU,GAAG,MACnB;IACIhB,UAAU,CAAC,IAAD,CAAV;EACH,CAHD;;EAMA,OAAO;IAACH,SAAD;IAAWE,OAAX;IAAmBE,WAAnB;IAA+Be;EAA/B,CAAP;AACH,CArCM;;GAAMpB,U"},"metadata":{},"sourceType":"module"}